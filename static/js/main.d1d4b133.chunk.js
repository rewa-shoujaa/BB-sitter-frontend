(this["webpackJsonpskeleton-react"]=this["webpackJsonpskeleton-react"]||[]).push([[0],{317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(26),c=n.n(o),s=n(4),r=n(415),l=n(380),d=n(401),u=n(410),b=n(411),j=n(404),h=n(139),p=n(218),g=n(407),f=n(40),O=n(17),m=n.n(O),x=n(23),y=n(82),v=n.n(y),S=n(397),C=n(31),w=n.n(C),_=n(56),k=n(107);n(284),n(285),n(191);k.apps.length||k.initializeApp({apiKey:"AIzaSyCZTkj_qmfvP6bwQSDG6TyUPkcmdLXCLfc",authDomain:"bb-sitter-app.firebaseapp.com",projectId:"bb-sitter-app",storageBucket:"bb-sitter-app.appspot.com",messagingSenderId:"1052906398986",appId:"1:1052906398986:web:8cb042fd7f0de4a4ea46f3",measurementId:"G-PW6B8N7RBL"});var I=k.messaging(),D="BFOVYCrYXt3xKLPNJRoFnkwE8TDdao0AcL0gCYrk9iolfhovRXd5jfAtxxyQ_TiCoctCPaLnT57Skjf9vBtdx_g";console.log(D);var z=function(){var e=Object(_.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,I.getToken({vapidKey:D});case 4:(n=e.sent)?(t(!0),console.log(D)):t(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("An error occurred while retrieving token. ",e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),L=n(1),A=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],o=n[1];return console.log("Token found",i),Object(a.useEffect)((function(){var t;function n(){return(n=Object(_.a)(w.a.mark((function n(){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z(o);case 2:return(t=n.sent)&&(console.log("Token is",t),e.setToken(t)),n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[o]),Object(L.jsx)(L.Fragment,{})};A.propTypes={};var F=A,P=n(162),W=(n(290),function(e){var t=e.title,n=e.body;function a(){return Object(L.jsxs)("div",{children:[Object(L.jsx)("h4",{children:t}),Object(L.jsx)("p",{children:n})]})}return""===t||P.b.info(Object(L.jsx)(a,{})),Object(L.jsx)(P.a,{autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!1})});W.defaultProps={title:"This is title",body:"Some body"};var N=W,B=Object(p.a)();var T=function(e){v.a.clear();var t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(""),p=Object(s.a)(c,2),O=p[0],y=p[1],C=Object(a.useState)(null),w=Object(s.a)(C,2),_=w[0],k=w[1],I=Object(x.f)();return Object(L.jsx)(g.a,{theme:B,children:Object(L.jsxs)(j.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(L.jsx)(l.a,{}),Object(L.jsx)(j.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(babysitter.jpg)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(L.jsxs)(j.a,{item:!0,xs:12,sm:8,md:5,component:u.a,elevation:6,square:!0,children:[Object(L.jsxs)(b.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(L.jsx)("img",{src:"../../logo.png",alt:"logo",style:{width:"50%"}}),Object(L.jsx)(h.a,{component:"h1",variant:"h5",children:"Welcome Back"}),Object(L.jsxs)(b.a,{component:"form",Validate:!0,onSubmit:function(t){t.preventDefault(),m.a.post("http://52.14.149.174/api/login",{email:i,password:O}).then((function(t){var n;console.log(t.data),m.a.defaults.headers.Authorization="bearer"+t.data.token,v.a.set("auth",JSON.stringify(t.data)),null!==e.token&&(n=t.data.id,m.a.post("http://52.14.149.174/api/save-device-token",{token:e.token,user_ID:n}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))),2===t.data.user_type&&I.push("/main/parent"),3===t.data.user_type&&I.push("/main/babysitter")})).catch((function(e){k(!0)}))},sx:{mt:1},children:[Object(L.jsx)(d.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"off",type:"email",autoFocus:!0,value:i,onChange:function(e){return o(e.target.value)}}),Object(L.jsx)(d.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:O,autoComplete:"current-password",onChange:function(e){return y(e.target.value)}}),Object(L.jsx)(r.a,{type:"submit",fullWidth:!0,style:{backgroundColor:"#2E3B55",color:"#FFFFFF"},variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(L.jsx)(j.a,{container:!0,children:Object(L.jsx)(j.a,{item:!0,children:Object(L.jsx)(f.b,{to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),_?Object(L.jsx)(S.a,{severity:"error",children:"Incorrect Credentials"}):null]})]})})},E=n(390),R=n(391),M=n(333),Y=n(383),V=n(384),q=n(393),U=n(129),H=n.n(U),J=n(130),G=n.n(J),K=n(418),X=n(403),Z=n(6),Q=n(382),$=n(134),ee=Object(Q.a)((function(e){return{title:Object(Z.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Z.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object($.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object($.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Z.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),toolbar:{display:"flex",justifyContent:"space-between",paddingLeft:0,marginLeft:0},logo:{maxWidth:160}}})),te=n(131),ne=n.n(te),ae=n(405),ie=n(217),oe=function(e){e.onPlaceChanged,e.onLoad,e.showAppointment;var t=e.setopenProfile,n=e.setOpenChat,a=e.setopenAppointmentsList,o=e.getAppointments,c=e.notificationList,r=e.NotificationRead,l=e.notificationCount,d=e.loadNotifcations,u=e.getNotification,b=ee(),j=i.a.useState(null),h=Object(s.a)(j,2),p=h[0],g=h[1],f=i.a.useState(null),O=Object(s.a)(f,2),m=O[0],y=O[1],v=Object(x.f)(),S=function(){g(null)};return Object(L.jsx)(Y.a,{position:"static",style:{background:"#2E3B55"},children:Object(L.jsxs)(V.a,{className:b.toolbar,children:[Object(L.jsx)("img",{src:"../../logo.png",alt:"logo",className:b.logo}),Object(L.jsx)(M.a,{variant:"h6",className:b.title,children:"your kids are in safe hands..."}),Object(L.jsxs)(q.a,{sx:{display:{xs:"flex"}},children:[Object(L.jsx)(K.a,{size:"large","aria-label":"show 4 new mails",color:"inherit",onClick:function(){n(!0)},children:Object(L.jsx)(X.a,{badgeContent:4,color:"error",children:Object(L.jsx)(H.a,{})})}),Object(L.jsx)(K.a,{size:"large","aria-label":"show 17 new notifications","aria-haspopup":"true",color:"inherit",onClick:function(e){u(),y(e.currentTarget)},children:Object(L.jsx)(X.a,{badgeContent:l>0?l:null,color:"error",children:Object(L.jsx)(G.a,{})})}),Object(L.jsx)(ie.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(m),onClose:function(e){r(),y(null)},PaperProps:{style:{maxHeight:"50%",maxwidth:"50%",overflow:"auto"}},children:d?l>0?c.map((function(e,t){return console.log(e),Object(L.jsx)(ae.a,{style:{width:"100%",overflow:"auto"},children:Object(L.jsxs)("div",{children:[" ",e.notification]})},t)})):Object(L.jsx)("div",{children:"no notifications"}):Object(L.jsx)("div",{children:"loading..."})}),Object(L.jsx)(K.a,{size:"large",edge:"end","aria-label":"account of current user","aria-haspopup":"true",color:"inherit",onClick:function(e){u(),g(e.currentTarget)},children:Object(L.jsx)(ne.a,{})}),Object(L.jsxs)(ie.a,{id:"menu-appbar",anchorEl:p,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(p),onClose:S,children:[Object(L.jsx)(ae.a,{onClick:function(){t(!0),S()},children:"Profile"}),Object(L.jsx)(ae.a,{onClick:function(){o(),a(!0),S()},children:"Appointments"}),Object(L.jsx)(ae.a,{onClick:function(){v.push("/")},children:"Logout"})]})]})]})})},ce=n(399),se=n(386),re=n(385),le=n(419),de=n(408),ue=function(e){return Object(L.jsx)(L.Fragment,{children:e.babysitterlist.map((function(t){return console.log(t),Object(L.jsxs)("div",{children:[Object(L.jsxs)(ce.a,{elevation:6,alignItems:"flex-start",id:t.id,onClick:function(){e.openprofile(!0),console.log(t.id),e.setchosenBabysitter(t.id)},children:[Object(L.jsx)(le.a,{children:Object(L.jsx)(de.a,{alt:t.firstname,src:"http://52.14.149.174"+t.picture})}),Object(L.jsx)(re.a,{primary:t.firstname+" "+t.lastname,secondary:Object(L.jsxs)(i.a.Fragment,{children:[t.aboutme?" \u2014 "+t.aboutme:null,t.rate?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:500,fontSize:14,color:"#002984"},children:[t.rate+" $/hour"," "]}):null]})})]}),Object(L.jsx)(se.a,{variant:"inset",component:"li"})]},t.id)}))})},be=n(33),je=n(46),he=n(387),pe=n(209),ge=n.n(pe),fe=n(210),Oe=n.n(fe),me=Object(Q.a)((function(){return{paper:{padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",width:"100px"},mapContainer:{height:"100%",width:"100%"},markerContainer:{position:"absolute",transform:"translate(-50%, -50%)",zIndex:1,"&:hover":{zIndex:2}},pointer:{cursor:"pointer"}}})),xe={right:10,top:10},ye=function(e){console.log("Map runnung"+e.babysitterList);var t=me(),n=(Object(he.a)("(min-width:600px)"),Object(a.useState)({latitude:e.locationLat,longitude:e.locationLong,width:"100%",height:"100%",zoom:14,optimize:!0})),i=Object(s.a)(n,2),o=i[0],c=i[1],r=Object(a.useState)(null),l=Object(s.a)(r,2),d=l[0],u=l[1];return Object(L.jsx)("div",{className:t.mapContainer,children:Object(L.jsxs)(je.e,Object(be.a)(Object(be.a)({},o),{},{mapboxApiAccessToken:"pk.eyJ1IjoicmV3YS1zaCIsImEiOiJja3V4OXh6OHowYzZoMnVxcXpyeDl5Mzk4In0.bq95kU9a4bKrKr0VxOyF2w",onViewportChange:function(e){c(e)},children:[Object(L.jsx)(je.a,{style:xe,positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),e.babysitterList.length>0?e.babysitterList.map((function(e){return Object(L.jsx)(je.b,{latitude:e.lat,longitude:e.long,children:Object(L.jsx)("button",{style:{background:"none",border:"none"},onClick:function(t){t.preventDefault(),u(e)},children:Object(L.jsx)(ge.a,{style:{color:"#f50057"}})})},e.id)})):null,d?Object(L.jsx)(je.d,{latitude:d.lat,longitude:d.long,onClose:function(){u(null)},children:Object(L.jsxs)("div",{children:[Object(L.jsx)("h3",{children:d.firstname+" "+d.lastname}),Object(L.jsxs)("div",{children:[Object(L.jsx)(Oe.a,{}),d.phone]})]})}):null]}))})},ve=n(394),Se=n(388),Ce=n(389),we=n(211),_e=n.n(we),ke=Object(Q.a)((function(e){return{dialogWrapper:{padding:e.spacing(2),position:"absolute",top:e.spacing(5),minWidth:"70vw",minHeight:"70vh",maxWidth:"md"},dialogTitle:{paddingRight:"0px"}}}));function Ie(e){var t=e.title,n=e.children,a=e.openPopup,i=e.setOpenPopup,o=ke();return Object(L.jsxs)(ve.a,{open:a,classes:{paper:o.dialogWrapper},disableEnforceFocus:!0,children:[Object(L.jsx)(Se.a,{className:o.dialogTitle,children:Object(L.jsxs)("div",{style:{display:"flex"},children:[Object(L.jsx)(M.a,{variant:"h6",component:"div",style:{flexGrow:1,color:"#2E3B55"},children:t}),Object(L.jsx)(r.a,{onClick:function(){i(!1)},style:{color:"black",border:"none"},variant:"outlined",children:Object(L.jsx)(_e.a,{})})]})}),Object(L.jsx)(Ce.a,{dividers:!0,children:n})]})}var De=n(52),ze=n.n(De),Le=Object(Q.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}},pageContent:{margin:e.spacing(5),padding:e.spacing(3)}}}));function Ae(e){Object(x.f)();var t,n=Object(a.useState)(new Date),i=Object(s.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)(new Date),u=Object(s.a)(l,2),b=u[0],h=u[1],p=Object(a.useState)(""),g=Object(s.a)(p,2),f=g[0],O=g[1],y=Object(a.useState)(null),v=Object(s.a)(y,2),C=v[0],w=v[1],_=Object(a.useState)(null),k=Object(s.a)(_,2),I=k[0],D=k[1],z=Le();console.log(e);return Object(a.useEffect)((function(){var e=new Date;console.log(e),console.log(ze()().format("YYYY-MM-DD[T]hh:mm"))}),[]),Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("form",{className:z.root,onSubmit:function(t){t.preventDefault(),o<ze()().format("YYYY-MM-DD[T]hh:mm")||b<ze()().format("YYYY-MM-DD[T]hh:mm")?(console.log("error start and end time should be greater than the current date/time"),w("Start and end date/time should be greater than the current date/time"),D(null)):o>b?(console.log("error "),w("End date/time should not be greater than end date/time "),D(null)):ze()(b,"YYYY-MM-DD[T]hh:mm").diff(ze()(o,"YYYY-MM-DD[T]hh:mm"),"hours")>8?(console.log("Appointment should not exceed 8 hours "),w("Appointment should not exceed 8 hours"),D(null)):m.a.post("http://52.14.149.174/api/BookAppointment",{address_ID:e.parentInfo[0].address_id,end_time:b,start_time:o,Parentid:e.parentInfo[0].parent_id,babysitter_id:e.babysitterInfo[0].babysitter_id,details:f}).then((function(e){w(null),console.log(e),D("Appointment request was sent"),c(new Date),h(new Date),O("")})).catch((function(e){console.log(e),alert("Please Try again later"),c(new Date),h(new Date),O("")}))},children:Object(L.jsxs)(j.a,{container:!0,children:[Object(L.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(L.jsx)(d.a,{id:"datetime-start",label:"From",required:!0,value:o,onChange:function(e){c(e.target.value),console.log(e.target.value)},fullWidth:!0,type:"datetime-local",InputLabelProps:{shrink:!0}})}),Object(L.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(L.jsx)(d.a,(t={id:"datetime-end",label:"appointment",type:"datetime-local",value:b,onChange:function(e){h(e.target.value),console.log(e.target.value)},required:!0,fullWidth:!0},Object(Z.a)(t,"label","To"),Object(Z.a)(t,"InputLabelProps",{shrink:!0}),t))}),Object(L.jsxs)(j.a,{item:!0,xs:12,children:[Object(L.jsx)(d.a,{variant:"outlined",label:"Details",name:"detail",autoComplete:"off",fullWidth:!0,multiline:!0,rows:4,value:f,onChange:function(e){O(e.target.value)},placeholder:"Number of children, ages, special requests..."}),Object(L.jsx)(r.a,{type:"submit",fullWidth:!0,style:{backgroundColor:"#2E3B55",color:"#FFFFFF"},variant:"contained",sx:{mt:3,mb:2},children:"Book"}),C?Object(L.jsx)(S.a,{severity:"error",children:C}):null,I?Object(L.jsx)(S.a,{severity:"success",children:I}):null]})]})})})}var Fe={fill:"#d00",stroke:"none"};function Pe(e){var t=e.size,n=void 0===t?20:t;return Object(L.jsx)("svg",{height:n,viewBox:"0 0 24 24",style:Fe,children:Object(L.jsx)("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})})}var We=a.memo(Pe),Ne=Object(Q.a)((function(){return{paper:{padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",width:"100px"},mapContainer:{height:"85vh",width:"100%"},markerContainer:{position:"absolute",transform:"translate(-50%, -50%)",zIndex:1,"&:hover":{zIndex:2}},pointer:{cursor:"pointer"}}})),Be={right:10,top:10},Te={position:"absolute",top:0,left:0,padding:"10px"},Ee=function(e){console.log("Registration Map");var t=Ne(),n=(Object(he.a)("(min-width:600px)"),Object(a.useState)({latitude:33.88863,longitude:35.49548,width:"100%",height:"100%",zoom:14,optimize:!0})),i=Object(s.a)(n,2),o=i[0],c=i[1],r=Object(a.useState)({latitude:33.88863,longitude:35.49548}),l=Object(s.a)(r,2),d=l[0],u=l[1],b=Object(a.useState)({}),j=Object(s.a)(b,2),h=(j[0],j[1]),p=Object(a.useCallback)((function(e){h((function(t){return Object(be.a)(Object(be.a)({},t),{},{onDragStart:e.lngLat})}))}),[]),g=Object(a.useCallback)((function(e){h((function(t){return Object(be.a)(Object(be.a)({},t),{},{onDrag:e.lngLat})}))}),[]),f=Object(a.useCallback)((function(t){h((function(e){return Object(be.a)(Object(be.a)({},e),{},{onDragEnd:t.lngLat})})),u({longitude:t.lngLat[0],latitude:t.lngLat[1]}),e.setLat(t.lngLat[1]),e.setLng(t.lngLat[0])}),[]),O=function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;u({longitude:t.longitude,latitude:t.latitude}),c(Object(be.a)(Object(be.a)({},o),{},{longitude:t.longitude,latitude:t.latitude})),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude))}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),{enableHighAccuracy:!0})};return Object(a.useEffect)((function(){O()}),[]),Object(L.jsx)("div",{className:t.mapContainer,children:Object(L.jsxs)(je.e,Object(be.a)(Object(be.a)({},o),{},{mapboxApiAccessToken:"pk.eyJ1IjoicmV3YS1zaCIsImEiOiJja3V4OXh6OHowYzZoMnVxcXpyeDl5Mzk4In0.bq95kU9a4bKrKr0VxOyF2w",onViewportChange:function(e){c(e)},children:[Object(L.jsx)(je.a,{style:Be,positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0,onGeolocate:O}),Object(L.jsx)(je.b,{longitude:d.longitude,latitude:d.latitude,offsetTop:-20,offsetLeft:-10,draggable:!0,onDragStart:p,onDrag:g,onDragEnd:f,children:Object(L.jsx)(We,{size:20})}),Object(L.jsx)("div",{className:"nav",style:Te,children:Object(L.jsx)(je.c,{})})]}))})},Re=Object(Q.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}},pageContent:{margin:e.spacing(5),padding:e.spacing(3)}}}));function Me(e){Object(x.f)();var t,n=Object(a.useState)(new Date),i=Object(s.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)(new Date),u=Object(s.a)(l,2),b=u[0],h=u[1],p=Object(a.useState)(""),g=Object(s.a)(p,2),f=g[0],O=g[1],y=Object(a.useState)(null),v=Object(s.a)(y,2),C=v[0],w=v[1],_=Object(a.useState)(null),k=Object(s.a)(_,2),I=k[0],D=k[1],z=Re();Object(a.useRef)(!1);console.log(e);return Object(a.useEffect)((function(){var e=new Date;console.log(e),console.log(ze()().format("YYYY-MM-DD[T]hh:mm"))}),[]),Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("form",{className:z.root,validate:!0,onSubmit:function(t){t.preventDefault(),o<ze()().format("YYYY-MM-DD[T]hh:mm")||b<ze()().format("YYYY-MM-DD[T]hh:mm")?(console.log("error start and end time should be greater than the current date/time"),w("Start and end date/time should be greater than the current date/time"),D(null)):o>b?(console.log("error "),w("End date/time should not be greater than end date/time "),D(null)):ze()(b,"YYYY-MM-DD[T]hh:mm").diff(ze()(o,"YYYY-MM-DD[T]hh:mm"),"hours")>8?(console.log("Appointment should not exceed 8 hours "),w("Appointment should not exceed 8 hours"),D(null)):m.a.post("http://52.14.149.174/api/FeelingLucky",{address_ID:e.parentInfo[0].address_id,end_time:b,start_time:o,Parentid:e.parentInfo[0].parent_id,city:e.parentInfo[0].user_city,details:f}).then((function(e){w(null),D("Appointment request was sent"),c(new Date),h(new Date),O("")})).catch((function(e){console.log(e),alert("Please Try again later"),c(new Date),h(new Date),O("")}))},children:Object(L.jsxs)(j.a,{container:!0,children:[Object(L.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(L.jsx)(d.a,{id:"datetime-start",label:"From",required:!0,value:o,onChange:function(e){c(e.target.value),console.log(e.target.value)},fullWidth:!0,type:"datetime-local",InputLabelProps:{shrink:!0}})}),Object(L.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(L.jsx)(d.a,(t={id:"datetime-end",label:"appointment",type:"datetime-local",value:b,onChange:function(e){h(e.target.value),console.log(e.target.value)},required:!0,fullwidth:!0},Object(Z.a)(t,"label","To"),Object(Z.a)(t,"InputLabelProps",{shrink:!0}),t))}),Object(L.jsxs)(j.a,{item:!0,xs:12,children:[Object(L.jsx)(d.a,{variant:"outlined",label:"Details",name:"detail",autoComplete:"off",fullWidth:!0,multiline:!0,rows:4,value:f,onChange:function(e){O(e.target.value)},placeholder:"Number of children, ages, special requests..."}),Object(L.jsx)(r.a,{type:"submit",fullWidth:!0,style:{backgroundColor:"#2E3B55",color:"#FFFFFF"},variant:"contained",sx:{mt:3,mb:2},children:"Book"}),C?Object(L.jsx)(S.a,{severity:"error",children:C}):null,I?Object(L.jsx)(S.a,{severity:"success",children:I}):null]})]})})})}n(317);var Ye=n(420),Ve=n(422),qe=n(421);function Ue(e){return console.log(e.user),Object(L.jsxs)(Ye.a,{elevation:6,children:[Object(L.jsx)(qe.a,{component:"img",alt:e.user[0].firstname,width:"100vw",style:{height:300},image:e.user[0].img?"http://52.14.149.174"+e.user[0].img:"http://52.14.149.174/image/User.jpg"}),Object(L.jsxs)(Ve.a,{children:[Object(L.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.user[0].firstname+" "+e.user[0].lastname}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Gender:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" Female"})]}),e.user[0].dob?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Date of Birth:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.user[0].dob})]}):null,e.user[0].phone?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Mobile:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.user[0].phone})]}):null]})]})}function He(e){return Object(L.jsx)(b.a,{style:{width:"100%",height:"100%"},children:Object(L.jsx)(Ue,{user:e.user})})}n(318);var Je=n(424),Ge=n(423),Ke=n(104),Xe=n.n(Ke),Ze=n(212),Qe=n.n(Ze);function $e(e){return console.log(e),Object(L.jsxs)(Ye.a,{elevation:6,children:[Object(L.jsx)(qe.a,{component:"img",alt:e.babysitterInfo[0].firstname,width:"100vw",style:{height:300},image:e.babysitterInfo[0].picture?"http://52.14.149.174"+e.babysitterInfo[0].picture:"http://52.14.149.174/image/User.jpg"}),Object(L.jsxs)(Ve.a,{children:[Object(L.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.babysitterInfo[0].firstname+" "+e.babysitterInfo[0].lastname}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Gender:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" Female"})]}),e.babysitterInfo[0].dob?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Date of Birth:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.babysitterInfo[0].dob})]}):null,e.babysitterInfo[0].rate?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Rate:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.babysitterInfo[0].rate})]}):null,e.babysitterInfo[0].phone?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Mobile:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.babysitterInfo[0].phone})]}):null,e.babysitterInfo[0].aboutme?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["About me:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.babysitterInfo[0].aboutme})]}):null,e.babysitterInfo[0].CV?Object(L.jsx)(Ge.a,{target:"_blank",rel:"noopener",href:"http://52.14.149.174"+e.babysitterInfo[0].CV,children:"CV"}):null]}),Object(L.jsxs)(Je.a,{children:[Object(L.jsx)(r.a,{variant:"contained",endIcon:Object(L.jsx)(Qe.a,{}),onClick:function(){e.setopenRate(!0),console.log("Rate")},style:{backgroundColor:"Orange",color:"#FFFFFF"},children:"Rate"}),Object(L.jsx)(r.a,{variant:"contained",endIcon:Object(L.jsx)(Xe.a,{}),onClick:function(){e.openbooking(!0)},style:{backgroundColor:"#2E3B55",color:"#FFFFFF"},children:"Appointment request"})]})]})}function et(e){return Object(L.jsx)(b.a,{style:{width:"100%",height:"100%"},children:e.loadingInfo?Object(L.jsx)($e,{openbooking:e.openbooking,babysitterInfo:e.babysitterInfo,setopenRate:e.setopenRate}):Object(L.jsx)("div",{children:"loading.."})})}var tt=n(414),nt=n(416),at=n(213),it=n.n(at),ot=n(412);function ct(e){return console.log(e),Object(L.jsx)(L.Fragment,{children:e.AppointmentList.map((function(e){return Object(L.jsxs)("div",{children:[Object(L.jsxs)(ce.a,{alignItems:"flex-start",children:[Object(L.jsx)(le.a,{children:Object(L.jsx)(de.a,{alt:e.firstname,src:"http://127.0.0.1:8000"+e.picture})}),Object(L.jsx)(re.a,{primary:Object(L.jsx)(h.a,{sx:{fontWeight:"bold"},children:e.firstname+" "+e.lastname}),secondary:Object(L.jsxs)(i.a.Fragment,{children:[Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Start:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.start})]}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["End:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.end})]}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Details:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.AppointmentDetails})]})]})})]}),Object(L.jsx)(se.a,{variant:"inset",component:"li"})]},e.AppDetailsID)}))})}var st=n(398);function rt(e){return console.log(e),Object(a.useEffect)((function(){e.getAppointments()}),[e.status]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(E.a,{}),Object(L.jsx)(R.a,{container:!0,spacing:1,style:{width:"100%",height:"100%"},children:Object(L.jsxs)(R.a,{item:!0,xs:12,children:[Object(L.jsx)(ot.a,{fullWidth:!0,style:{marginTop:"10px"},children:Object(L.jsxs)(st.a,{id:"type",value:e.status,onChange:function(t){e.setStatus(t.target.value)},children:[Object(L.jsx)(ae.a,{value:0,children:"Pending"}),Object(L.jsx)(ae.a,{value:1,children:"Scheduled"})]})}),Object(L.jsx)(u.a,{style:{height:"100%",overflow:"auto"},children:Object(L.jsx)(tt.a,{sx:{width:"100%",height:"100%",bgcolor:"background.paper"},children:e.ListLoaded?e.AppointmentList.length>0?Object(L.jsx)(ct,{AppointmentList:e.AppointmentList}):Object(L.jsx)("div",{children:"No Appointments listed"}):Object(L.jsx)("div",{children:"Loading.."})})})]})})]})}var lt=n(400),dt=Object(Q.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}},pageContent:{margin:e.spacing(2),padding:e.spacing(3)}}}));function ut(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(3),l=Object(s.a)(c,2),u=l[0],b=l[1],p=Object(a.useState)(null),g=Object(s.a)(p,2),f=g[0],O=g[1],x=Object(a.useState)(null),y=Object(s.a)(x,2),v=y[0],C=y[1],w=dt();console.log(e),Object(a.useEffect)((function(){console.log(u)}),[u]);return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("form",{className:w.root,onSubmit:function(t){t.preventDefault(),m.a.post("http://52.14.149.174/api/rate",{rating:u,ParentID:e.parentInfo[0].parent_id,babysitterID:e.babysitterInfo[0].babysitter_id,comment:i}).then((function(e){O(null),C("Thank you Rating was added!")})).catch((function(e){console.log(e),alert("Please Try again later")}))},children:Object(L.jsxs)(j.a,{container:!0,spacing:2,children:[Object(L.jsxs)(j.a,{item:!0,xs:12,children:[Object(L.jsx)(h.a,{variant:"subtitle2",component:"h2",children:"Rate Babysitter: "}),Object(L.jsx)(lt.a,{name:"half-rating",value:u,onChange:function(e,t){b(t)},precision:1})]}),Object(L.jsxs)(j.a,{item:!0,xs:12,children:[Object(L.jsx)(d.a,{variant:"outlined",label:"Comments",name:"detail",autoComplete:"off",required:!0,fullWidth:!0,multiline:!0,rows:4,value:i,onChange:function(e){o(e.target.value)}}),Object(L.jsx)(r.a,{type:"submit",fullWidth:!0,style:{backgroundColor:"#2E3B55",color:"#FFFFFF"},variant:"contained",sx:{mt:3,mb:2},children:"Rate"}),f?Object(L.jsx)(S.a,{severity:"error",children:f}):null,v?Object(L.jsx)(S.a,{severity:"success",children:v}):null]})]})})})}var bt=function(e){var t=Object(x.f)(),n=Object(a.useState)(!1),i=Object(s.a)(n,2),o=i[0],c=i[1],r=Object(a.useState)(!1),l=Object(s.a)(r,2),b=l[0],j=l[1],h=Object(a.useState)(!1),p=Object(s.a)(h,2),g=p[0],f=p[1],O=Object(a.useState)(!1),y=Object(s.a)(O,2),S=(y[0],y[1],Object(a.useState)([])),C=Object(s.a)(S,2),k=C[0],I=C[1],D=Object(a.useState)([]),z=Object(s.a)(D,2),A=z[0],F=z[1],P=Object(a.useState)(""),W=Object(s.a)(P,2),N=W[0],B=W[1],T=Object(a.useState)(35.49548),Y=Object(s.a)(T,2),V=Y[0],q=Y[1],U=Object(a.useState)(33.88863),H=Object(s.a)(U,2),J=H[0],G=H[1],K=Object(a.useState)(!1),X=Object(s.a)(K,2),Z=X[0],Q=X[1],$=Object(a.useState)(""),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),ie=Object(s.a)(ae,2),ce=ie[0],se=ie[1],re=Object(a.useState)(!1),le=Object(s.a)(re,2),de=le[0],be=le[1],je=Object(a.useState)([]),he=Object(s.a)(je,2),pe=he[0],ge=he[1],fe=Object(a.useState)(!1),Oe=Object(s.a)(fe,2),me=Oe[0],xe=Oe[1],ve=Object(a.useState)(""),Se=Object(s.a)(ve,2),Ce=Se[0],we=Se[1],_e=Object(a.useState)(!1),ke=Object(s.a)(_e,2),De=ke[0],ze=ke[1],Le=Object(a.useState)(!1),Fe=Object(s.a)(Le,2),Pe=Fe[0],We=Fe[1],Ne=Object(a.useState)(!1),Be=Object(s.a)(Ne,2),Te=Be[0],Ee=Be[1],Re=Object(a.useState)(!1),Ye=Object(s.a)(Re,2),Ve=(Ye[0],Ye[1],Object(a.useState)(!1)),qe=Object(s.a)(Ve,2),Ue=qe[0],Je=qe[1],Ge=Object(a.useState)(!1),Ke=Object(s.a)(Ge,2),Ze=Ke[0],Qe=Ke[1],$e=Object(a.useState)([]),at=Object(s.a)($e,2),ot=at[0],ct=at[1],st=Object(a.useState)(0),lt=Object(s.a)(st,2),dt=lt[0],bt=lt[1],jt=Object(a.useState)(0),ht=Object(s.a)(jt,2),pt=ht[0],gt=ht[1],ft=Object(a.useState)([]),Ot=Object(s.a)(ft,2),mt=Ot[0],xt=Ot[1],yt=Object(a.useState)(!1),vt=Object(s.a)(yt,2),St=vt[0],Ct=vt[1],wt=Object(a.useState)(!1),_t=Object(s.a)(wt,2),kt=_t[0],It=_t[1],Dt=Object(a.useState)(!1),zt=Object(s.a)(Dt,2),Lt=zt[0],At=zt[1];m.a.defaults.baseURL="";var Ft=function(){var e=Object(_.a)(w.a.mark((function e(){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("auth");case 3:n=e.sent,a=JSON.parse(n||{}),console.log(a),m.a.defaults.headers.Authorization="bearer"+a.token,m.a.get("http://52.14.149.174/api/getParentDetails").then((function(e){var t=[];I([]),t.push({userid:e.data[0].id,firstname:e.data[0].first_name,lastname:e.data[0].last_name,address_id:e.data[2].id,img:e.data[1].picture,parent_id:e.data[1].id,user_lat:e.data[2].address_latitude,user_long:e.data[2].address_longitude,user_city:e.data[2].city_id,user_country:e.data[2].country,picture:e.data[1].picture,phone:e.data[1].phone_number,gender:e.data[1].gender,dob:e.data[1].date_of_birth}),B(e.data[2].city_id),I(t),q(e.data[2].address_longitude),G(e.data[2].address_latitude)})),Nt(),Wt(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.push("/");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Pt=function(e,t){var n=Object(a.useRef)(!1);Object(a.useEffect)((function(){n.current?e():n.current=!0}),t)};function Wt(){var e=[];ct([]),Qe(!1),m.a.get("http://52.14.149.174/api/getNotifications").then((function(t){console.log("notificationss",t);for(var n=0;n<t.data.length;n++)e.push({notification:t.data[n].text});ct(e),Qe(!0),bt(e.length)}))}function Nt(){var e=[];ge([]),m.a.get("http://52.14.149.174/api/getAllBabysitters").then((function(t){console.log(t.data[0]);for(var n=0;n<t.data.length;n++)e.push({id:t.data[n].user_id,firstname:t.data[n].first_name,lastname:t.data[n].last_name,phone:t.data[n].phone_number,addressID:t.data[n].address_id,lat:t.data[n].address_latitude,long:t.data[n].address_longitude,dob:t.data[n].date_of_birth,gender:t.data[n].gender,picture:t.data[n].picture});ge(e),xe(!0)}))}function Bt(){Ct(!1);var e=[];xt([]),0===pt?m.a.get("http://52.14.149.174/api/getPending").then((function(t){console.log(t);for(var n=0;n<t.data.length;n++)e.push({user_id:t.data[n].user_id,start:t.data[n].start_time,end:t.data[n].end_time,AppointmentDetails:t.data[n].details,firstname:t.data[n].first_name,lastname:t.data[n].last_name,AppID:t.data[n].appointment_ID,AppDetailsID:t.data[n].AppDetailsID,Pending:!0});xt(e),Ct(!0)})):m.a.get("http://52.14.149.174/api/getScheduled").then((function(t){console.log(t);for(var n=0;n<t.data.length;n++)e.push({user_id:t.data[n].user_id,start:t.data[n].start_time,end:t.data[n].end_time,AppointmentDetails:t.data[n].details,firstname:t.data[n].first_name,lastname:t.data[n].last_name,AppID:t.data[n].appointment_ID,AppDetailsID:t.data[n].AppDetailsID,Pending:!1});xt(e),Ct(!0)}))}return Object(a.useEffect)((function(){Ft(),console.log("Auth")}),[]),Object(a.useEffect)((function(){console.log(k),console.log("userProfile")}),[k]),Pt((function(){!function(){var e=[];F([]),m.a.get("http://52.14.149.174/api/getBabysittersinCity/"+N).then((function(t){console.log(t.data[0]);for(var n=0;n<t.data.length;n++)e.push({id:t.data[n].user_id,firstname:t.data[n].first_name,lastname:t.data[n].last_name,phone:t.data[n].phone_number,addressID:t.data[n].address_id,lat:t.data[n].address_latitude,long:t.data[n].address_longitude,dob:t.data[n].date_of_birth,gender:t.data[n].gender,picture:t.data[n].picture,aboutme:t.data[n].about_me,rate:t.data[n].rate});F(e),Q(!0)}))}(),console.log(N)}),[N]),Pt((function(){console.log(ce),be(!0)}),[ce]),Pt((function(){console.log(te),We(!1),m.a.get("http://52.14.149.174/api/babysitterDetails/"+te).then((function(e){console.log("Chosen babysitter"+te),console.log(e);var t=[];se([]),t.push({userid:e.data[0].id,firstname:e.data[0].first_name,lastname:e.data[0].last_name,address_id:e.data[2].id,picture:e.data[1].picture,babysitter_id:e.data[1].id,user_lat:e.data[2].address_latitude,user_long:e.data[2].address_longitude,user_city:e.data[2].city_id,user_country:e.data[2].country,phone:e.data[1].phone_number,gender:e.data[1].gender,dob:e.data[1].date_of_birth,aboutme:e.data[1].about_me,rate:e.data[1].rate,CV:e.data[1].qualifications}),se(t),console.log(t),We(!0)}))}),[te]),Pt((function(){Wt(),e.setLoadNotification(!1)}),[e.loadNotifications]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(E.a,{}),Object(L.jsx)(oe,{showAppointment:!0,setOpenChat:Je,setopenProfile:Ee,setopenAppointmentsList:It,getAppointments:Bt,notificationList:ot,NotificationRead:function(){ct([]),m.a.get("http://52.14.149.174/api/setRead").then((function(e){console.log(e),ct([]),bt(0)}))},notificationCount:dt,loadNotifcations:Ze,getNotification:Wt}),Object(L.jsxs)(R.a,{container:!0,spacing:1,style:{width:"100%"},children:[Object(L.jsxs)(R.a,{item:!0,xs:12,md:4,style:{padding:"15px"},children:[Object(L.jsx)(M.a,{variant:"h6",children:" Babysitters in your city"}),Object(L.jsx)(d.a,{variant:"standard",label:"Search",fullWidth:!0,value:Ce,onChange:function(e){we(e.target.value)},style:{marginBottom:"15px",background:"white",border:"none",marginTop:"5px"},InputProps:{endAdornment:Object(L.jsx)(it.a,{onClick:function(){ze(!0);var e=[];F([]),m.a.post("http://52.14.149.174/api/search",{city:N,name:Ce}).then((function(t){console.log(t);for(var n=0;n<t.data.length;n++)e.push({id:t.data[n].user_id,firstname:t.data[n].first_name,lastname:t.data[n].last_name,phone:t.data[n].phone_number,addressID:t.data[n].address_id,lat:t.data[n].address_latitude,long:t.data[n].address_longitude,dob:t.data[n].date_of_birth,gender:t.data[n].gender,picture:t.data[n].picture,aboutme:t.data[n].about_me,rate:t.data[n].rate});ze(!1),F(e)}))}})}}),Object(L.jsx)(u.a,{style:{height:"74vh",overflow:"auto"},children:Object(L.jsx)(tt.a,{sx:{width:"100%",bgcolor:"background.paper"},children:!1===Z||!0===De?Object(L.jsx)("h5",{style:{textAlign:"center"},children:"loading..."}):0!==A.length?Object(L.jsx)(ue,{babysitterlist:A,openprofile:c,setchosenBabysitter:ne}):Object(L.jsx)("h3",{children:"Sorry, no available babysitters in your city."})})})]}),Object(L.jsxs)(R.a,{item:!0,xs:12,md:8,children:[!0===me?Object(L.jsx)(ye,{locationLat:J,locationLong:V,babysitterList:pe}):Object(L.jsx)("div",{children:"Loading"}),Object(L.jsxs)(nt.a,{variant:"extended",size:"medium",color:"primary",onClick:function(e){f(!0)},"aria-label":"add",style:{position:"absolute",bottom:30,right:16},children:[Object(L.jsx)(Xe.a,{sx:{mr:1}}),"Feeling Lucky"]})]})]}),Object(L.jsx)(Ie,{title:"Profile",openPopup:o,setOpenPopup:c,children:!0===de?Object(L.jsx)(et,{openbooking:j,babysitterInfo:ce,loadingInfo:Pe,setopenRate:At}):Object(L.jsx)("div",{children:"loading..."})}),Object(L.jsx)(Ie,{title:"Appointment Request",openPopup:b,setOpenPopup:j,children:Object(L.jsx)(Ae,{babysitterInfo:ce,parentInfo:k})}),Object(L.jsx)(Ie,{title:"Book Appointment",openPopup:b,setOpenPopup:j,children:Object(L.jsx)(Ae,{babysitterInfo:ce,parentInfo:k})}),Object(L.jsx)(Ie,{title:"Feeling Lucky",openPopup:g,setOpenPopup:f,children:Object(L.jsx)(Me,{parentInfo:k})}),Object(L.jsx)(Ie,{title:"Chat",openPopup:Ue,setOpenPopup:Je}),Object(L.jsx)(Ie,{title:"My Profile",openPopup:Te,setOpenPopup:Ee,children:Object(L.jsx)(He,{user:k})}),Object(L.jsx)(Ie,{title:"Appointments",openPopup:kt,setOpenPopup:It,children:Object(L.jsx)(rt,{status:pt,setStatus:gt,AppointmentList:mt,ListLoaded:St,getAppointments:Bt})}),Object(L.jsx)(Ie,{title:"Rating",openPopup:Lt,setOpenPopup:At,children:Object(L.jsx)(ut,{babysitterInfo:ce,parentInfo:k})})]})},jt=Object(Q.a)((function(e){return{title:Object(Z.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Z.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object($.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object($.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Z.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),toolbar:{display:"flex",justifyContent:"space-between",paddingLeft:0,marginLeft:0},logo:{maxWidth:160}}})),ht=function(e){e.onPlaceChanged,e.onLoad,e.showAppointment;var t=e.setopenProfile,n=(e.setOpenChat,e.notificationList),a=e.NotificationRead,o=e.notificationCount,c=e.loadNotifcations,r=e.getNotification,l=jt(),d=i.a.useState(null),u=Object(s.a)(d,2),b=u[0],j=u[1],h=i.a.useState(null),p=Object(s.a)(h,2),g=p[0],f=p[1],O=Object(x.f)(),m=function(){j(null)};return Object(L.jsx)(Y.a,{position:"static",style:{background:"#2E3B55"},children:Object(L.jsxs)(V.a,{className:l.toolbar,children:[Object(L.jsx)("img",{src:"../../logo.png",alt:"logo",className:l.logo}),Object(L.jsx)(M.a,{variant:"h6",className:l.title,children:"your kids are in safe hands..."}),Object(L.jsxs)(q.a,{sx:{display:{xs:"flex"}},children:[Object(L.jsx)(K.a,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:Object(L.jsx)(X.a,{badgeContent:4,color:"error",children:Object(L.jsx)(H.a,{})})}),Object(L.jsx)(K.a,{size:"large","aria-label":"show 17 new notifications","aria-haspopup":"true",color:"inherit",onClick:function(e){r(),f(e.currentTarget)},children:Object(L.jsx)(X.a,{badgeContent:o>0?o:null,color:"error",children:Object(L.jsx)(G.a,{})})}),Object(L.jsx)(ie.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:g,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(g),onClose:function(e){a(),f(null)},PaperProps:{style:{maxHeight:"50%",maxwidth:"50%",overflow:"auto"}},children:c?o>0?n.map((function(e,t){return console.log(e),Object(L.jsx)(ae.a,{style:{width:"100%",overflow:"auto"},children:Object(L.jsxs)("div",{children:[" ",e.notification]})},t)})):Object(L.jsx)("div",{children:"no notifications"}):Object(L.jsx)("div",{children:"loading..."})}),Object(L.jsx)(K.a,{size:"large",edge:"end","aria-label":"account of current user","aria-haspopup":"true",color:"inherit",onClick:function(e){j(e.currentTarget)},children:Object(L.jsx)(ne.a,{})}),Object(L.jsxs)(ie.a,{id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:m,children:[Object(L.jsx)(ae.a,{onClick:function(){t(!0),m()},children:"Profile"}),Object(L.jsx)(ae.a,{onClick:function(){O.push("/")},children:"Logout"})]})]})]})})};function pt(e){return console.log(e),Object(L.jsx)(L.Fragment,{children:e.PendingList.map((function(t){return Object(L.jsxs)("div",{children:[Object(L.jsxs)(ce.a,{alignItems:"flex-start",onClick:function(){e.setChosen(t),e.error(null),e.success(null)},children:[Object(L.jsx)(le.a,{children:Object(L.jsx)(de.a,{alt:t.firstname,src:"http://52.14.149.174"+t.picture})}),Object(L.jsx)(re.a,{primary:Object(L.jsx)(h.a,{sx:{fontWeight:"bold"},children:t.firstname+" "+t.lastname}),secondary:Object(L.jsxs)(i.a.Fragment,{children:[Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Start:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+t.start})]}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["End:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+t.end})]}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Details:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+t.AppointmentDetails})]})]})})]}),Object(L.jsx)(se.a,{variant:"inset",component:"li"})]},t.AppDetailsID)}))})}var gt=Object(Q.a)((function(){return{paper:{padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",width:"100px"},mapContainer:{height:"50vh",width:"100%"},markerContainer:{position:"absolute",transform:"translate(-50%, -50%)",zIndex:1,"&:hover":{zIndex:2}},pointer:{cursor:"pointer"}}})),ft={fill:"#d00",stroke:"none"};function Ot(e){var t=e.size,n=void 0===t?20:t;return Object(L.jsx)("svg",{height:n,viewBox:"0 0 24 24",style:ft,children:Object(L.jsx)("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})})}var mt=a.memo(Ot),xt=function(e){console.log("Map Rendering");var t=gt(),n=(Object(he.a)("(min-width:600px)"),Object(a.useState)(e.locationLong)),i=Object(s.a)(n,2),o=i[0],c=(i[1],Object(a.useState)(e.locationLat)),r=Object(s.a)(c,2),l=r[0],d=(r[1],Object(a.useState)({latitude:l,longitude:o,width:"100%",height:"100%",zoom:14,optimize:!0})),u=Object(s.a)(d,2),b=u[0],j=u[1];return Object(L.jsx)("div",{className:t.mapContainer,children:Object(L.jsx)(je.e,Object(be.a)(Object(be.a)({},b),{},{mapboxApiAccessToken:"pk.eyJ1IjoicmV3YS1zaCIsImEiOiJja3V4OXh6OHowYzZoMnVxcXpyeDl5Mzk4In0.bq95kU9a4bKrKr0VxOyF2w",onViewportChange:function(e){j(e)},children:Object(L.jsx)(je.b,{longitude:o,latitude:l,offsetTop:-20,offsetLeft:-10,children:Object(L.jsx)(mt,{size:20})})}))})},yt=n(214),vt=n.n(yt),St=n(215),Ct=n.n(St);function wt(e){return console.log(e),Object(L.jsxs)(Ye.a,{style:{width:"100vw",height:"100%"},children:[e.chosen.lat||e.chosen.long?Object(L.jsx)(xt,{locationLat:e.chosen.lat,locationLong:e.chosen.long}):null,Object(L.jsxs)(Ve.a,{children:[Object(L.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.chosen.firstname+" "+e.chosen.lastname}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Start:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.chosen.start})]}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["End:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.chosen.end})]}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Phone Number:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.chosen.phone})]}),Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Details:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.chosen.AppointmentDetails})]})]}),Object(L.jsx)(Je.a,{children:e.chosen.Pending?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(r.a,{variant:"contained",endIcon:Object(L.jsx)(vt.a,{}),color:"success",onClick:function(){e.approve(e.chosen.AppDetailsID)},children:"Approve"}),Object(L.jsx)(r.a,{variant:"contained",endIcon:Object(L.jsx)(Ct.a,{}),color:"error",onClick:function(){e.decline(e.chosen.AppDetailsID)},children:"Decline"})]}):null})]})}n(319);function _t(e){return console.log(e.babysitterInfo),Object(L.jsxs)(Ye.a,{elevation:6,children:[Object(L.jsx)(qe.a,{component:"img",alt:e.babysitterInfo[0].firstname,width:"100vw",style:{height:300},image:e.babysitterInfo[0].picture?"http://52.14.149.174"+e.babysitterInfo[0].picture:"http://52.14.149.174/image/User.jpg"}),Object(L.jsxs)(Ve.a,{children:[Object(L.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.babysitterInfo[0].firstname+" "+e.babysitterInfo[0].lastname}),e.babysitterInfo[0].gender?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Gender:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.babysitterInfo[0].gender})]}):null,e.babysitterInfo[0].dob?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Date of Birth:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.babysitterInfo[0].dob})]}):null,e.babysitterInfo[0].rate?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Rate:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.babysitterInfo[0].rate})]}):null,e.babysitterInfo[0].phone?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["Mobile:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.babysitterInfo[0].phone})]}):null,e.babysitterInfo[0].aboutme?Object(L.jsxs)(h.a,{component:"div",style:{fontWeight:600,fontSize:16},children:["About me:",Object(L.jsx)(b.a,{fontWeight:"light",display:"inline",sx:{fontSize:14},children:" "+e.babysitterInfo[0].aboutme})]}):null,e.babysitterInfo[0].CV?Object(L.jsx)(Ge.a,{target:"_blank",rel:"noopener",href:"http://52.14.149.174"+e.babysitterInfo[0].CV,children:"CV"}):null]})]})}function kt(e){return Object(L.jsx)(b.a,{style:{width:"100%",height:"100%"},children:Object(L.jsx)(_t,{babysitterInfo:e.user})})}var It=function(e){var t=Object(x.f)(),n=Object(a.useState)(!1),i=Object(s.a)(n,2),o=(i[0],i[1],Object(a.useState)(0)),c=Object(s.a)(o,2),r=c[0],l=c[1],d=Object(a.useState)(null),b=Object(s.a)(d,2),j=b[0],p=b[1],g=Object(a.useState)(null),f=Object(s.a)(g,2),O=f[0],y=f[1],C=Object(a.useState)([]),k=Object(s.a)(C,2),I=k[0],D=k[1],z=Object(a.useState)([]),A=Object(s.a)(z,2),F=A[0],P=A[1],W=Object(a.useState)([]),N=Object(s.a)(W,2),B=(N[0],N[1],Object(a.useState)(null)),T=Object(s.a)(B,2),M=T[0],Y=T[1],V=Object(a.useState)(!1),q=Object(s.a)(V,2),U=q[0],H=q[1],J=Object(a.useState)(!1),G=Object(s.a)(J,2),K=G[0],X=G[1],Z=Object(a.useState)(!1),Q=Object(s.a)(Z,2),$=Q[0],ee=Q[1],te=Object(a.useState)([]),ne=Object(s.a)(te,2),ie=ne[0],oe=ne[1],ce=Object(a.useState)(0),se=Object(s.a)(ce,2),re=se[0],le=se[1];m.a.defaults.baseURL="";var de=function(){var e=Object(_.a)(w.a.mark((function e(){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("auth");case 3:n=e.sent,a=JSON.parse(n||{}),console.log("Authhh"+a),m.a.defaults.headers.Authorization="bearer"+a.token,m.a.get("http://52.14.149.174/api/babysitter/getDetails").then((function(e){console.log(e);var t=[];D([]),t.push({userid:e.data[0].id,firstname:e.data[0].first_name,lastname:e.data[0].last_name,address_id:e.data[2].id,img:e.data[1].picture,picture:e.data[1].picture,babysitter_id:e.data[1].id,user_lat:e.data[2].address_latitude,user_long:e.data[2].address_longitude,user_city:e.data[2].city_id,user_country:e.data[2].country,gender:e.data[1].gender,dob:e.data[1].date_of_birth,phone:e.data[1].phone_number,rate:e.data[1].rate,aboutme:e.data[1].about_me,CV:e.data[1].qualifications}),D(t)})),je(),be(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),t.push("/");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),ue=function(e,t){var n=Object(a.useRef)(!1);Object(a.useEffect)((function(){n.current?e():n.current=!0}),t)};function be(){var e=[];oe([]),ee(!1),m.a.get("http://52.14.149.174/api/getNotifications").then((function(t){console.log("notificationss",t);for(var n=0;n<t.data.length;n++)e.push({notification:t.data[n].text});oe(e),ee(!0),le(e.length)}))}function je(){Y(null),H(!1);var e=[];P([]),0===r?m.a.get("http://52.14.149.174/api/babysitter/getAppointments").then((function(t){console.log(t);for(var n=0;n<t.data.length;n++)e.push({parentid:t.data[n].parent_id,user_id:t.data[n].user_id,start:t.data[n].start_time,end:t.data[n].end_time,AppointmentDetails:t.data[n].details,firstname:t.data[n].first_name,lastname:t.data[n].last_name,phone:t.data[n].phone_number,addressID:t.data[n].address_id,lat:t.data[n].address_latitude,long:t.data[n].address_longitude,dob:t.data[n].date_of_birth,gender:t.data[n].gender,picture:t.data[n].picture,AppID:t.data[n].appointment_ID,AppDetailsID:t.data[n].AppDetailsID,Pending:!0});P(e),H(!0)})):m.a.get("http://52.14.149.174/api/babysitter/getScheduled").then((function(t){console.log(t);for(var n=0;n<t.data.length;n++)e.push({parentid:t.data[n].parent_id,user_id:t.data[n].user_id,start:t.data[n].start_time,end:t.data[n].end_time,AppointmentDetails:t.data[n].details,firstname:t.data[n].first_name,lastname:t.data[n].last_name,phone:t.data[n].phone_number,addressID:t.data[n].address_id,lat:t.data[n].address_latitude,long:t.data[n].address_longitude,dob:t.data[n].date_of_birth,gender:t.data[n].gender,picture:t.data[n].picture,AppID:t.data[n].appointment_ID,AppDetailsID:t.data[n].AppDetailsID,Pending:!1});P(e),H(!0)}))}return ue((function(){be(),e.setLoadNotification(!1)}),[e.loadNotifications]),Object(a.useEffect)((function(){de()}),[]),ue((function(){je()}),[r]),ue((function(){je()}),[r]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(E.a,{}),Object(L.jsx)(ht,{showAppointment:!1,setopenProfile:X,notificationList:ie,NotificationRead:function(){oe([]),m.a.get("http://52.14.149.174/api/setRead").then((function(e){console.log(e),oe([]),le(0)}))},notificationCount:re,loadNotifcations:$,getNotification:be}),Object(L.jsxs)(R.a,{container:!0,spacing:1,style:{width:"100%",height:"100%"},children:[Object(L.jsxs)(R.a,{item:!0,xs:12,md:5,style:{padding:"15px"},children:[Object(L.jsx)(h.a,{variant:"h6",children:" Appointments"}),Object(L.jsx)(ot.a,{fullWidth:!0,style:{marginTop:"10px"},children:Object(L.jsxs)(st.a,{id:"type",value:r,onChange:function(e){l(e.target.value),Y(null)},style:{marginBottom:"15px",marginTop:"5px"},children:[Object(L.jsx)(ae.a,{value:0,children:"Pending"}),Object(L.jsx)(ae.a,{value:1,children:"Scheduled"})]})}),Object(L.jsx)(u.a,{style:{height:"75vh",overflow:"auto"},children:Object(L.jsx)(tt.a,{sx:{width:"100%",height:"100%",bgcolor:"background.paper"},children:U?F.length>0?Object(L.jsx)(pt,{PendingList:F,setChosen:Y,error:p,success:y}):Object(L.jsx)("div",{children:"No Appointments listed"}):Object(L.jsx)("div",{children:"Loading.."})})})]}),Object(L.jsxs)(R.a,{item:!0,xs:12,md:7,children:[j?Object(L.jsx)(S.a,{severity:"error",children:j}):null,O?Object(L.jsx)(S.a,{severity:"success",children:O}):null,M?Object(L.jsx)(wt,{chosen:M,approve:function(e){m.a.get("http://52.14.149.174/api/babysitter/AcceptAppointment/"+e).then((function(e){console.log(e),"Success"===e.data?y("Appointment successfully scheduled"):p("Something went wrong, please try again later")})),je()},decline:function(e){m.a.get("http://52.14.149.174/api/babysitter/DeclineAppointment/"+e).then((function(e){console.log(e),"Success"===e.data?y("Sucessfully declined"):p("Something went wrong, please try again later")})),je()}}):null]})]}),Object(L.jsx)(Ie,{title:"My Profile",openPopup:K,setOpenPopup:X,children:Object(L.jsx)(kt,{user:I})})]})},Dt=n(222),zt=n(392),Lt=Object(Q.a)((function(e){return{root:{backgroundColor:"#fdfdff"},pageHeader:{padding:e.spacing(4),display:"flex",marginBottom:e.spacing(2)},pageIcon:{display:"inline-block",padding:e.spacing(2),color:"#3c44b1"},pageTitle:{paddingLeft:e.spacing(4),"& .MuiTypography-subtitle2":{opacity:"0.6"}}}}));function At(e){var t=Lt(),n=e.title,a=e.subTitle,i=e.icon;return Object(L.jsx)(Dt.a,{elevation:0,square:!0,className:t.root,children:Object(L.jsxs)("div",{className:t.pageHeader,children:[Object(L.jsx)(zt.a,{className:t.pageIcon,children:i}),Object(L.jsxs)("div",{className:t.pageTitle,children:[Object(L.jsx)(M.a,{variant:"h6",component:"div",children:n}),Object(L.jsx)(M.a,{variant:"subtitle2",component:"div",children:a})]})]})})}var Ft=n(216),Pt=n.n(Ft),Wt=n(406),Nt=n(395),Bt=n(381),Tt=n(417),Et=n(413),Rt=Object(Q.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}},pageContent:{margin:e.spacing(5),padding:e.spacing(3)}}}));function Mt(){var e=Object(x.f)();m.a.defaults.baseURL="";var t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(""),l=Object(s.a)(c,2),u=l[0],b=l[1],h=Object(a.useState)(""),p=Object(s.a)(h,2),g=p[0],f=p[1],O=Object(a.useState)(""),y=Object(s.a)(O,2),v=y[0],S=y[1],C=Object(a.useState)("2"),k=Object(s.a)(C,2),I=k[0],D=k[1],z=Object(a.useState)(""),A=Object(s.a)(z,2),F=A[0],P=A[1],W=Object(a.useState)(0),N=Object(s.a)(W,2),B=N[0],T=N[1],E=Object(a.useState)(""),R=Object(s.a)(E,2),M=R[0],Y=R[1],V=Object(a.useState)([]),q=Object(s.a)(V,2),U=q[0],H=q[1],J=Object(a.useState)([]),G=Object(s.a)(J,2),K=G[0],X=G[1],Z=Object(a.useState)(""),Q=Object(s.a)(Z,2),$=Q[0],ee=Q[1],te=Object(a.useState)(0),ne=Object(s.a)(te,2),ie=ne[0],oe=ne[1],ce=Object(a.useState)(0),se=Object(s.a)(ce,2),re=se[0],le=se[1],de=Object(a.useState)(new Date),ue=Object(s.a)(de,2),be=ue[0],je=ue[1],he=Object(a.useState)(null),pe=Object(s.a)(he,2),ge=pe[0],fe=pe[1],Oe=Object(a.useState)(""),me=Object(s.a)(Oe,2),xe=me[0],ye=me[1],ve=Object(a.useState)(35.49548),Se=Object(s.a)(ve,2),Ce=Se[0],we=Se[1],_e=Object(a.useState)(33.88863),ke=Object(s.a)(_e,2),Ie=ke[0],De=ke[1],ze=Object(a.useState)(""),Le=Object(s.a)(ze,2),Ae=Le[0],Fe=Le[1],Pe=Object(a.useState)(""),We=Object(s.a)(Pe,2),Ne=We[0],Be=We[1],Te=Rt(),Re=(Object(a.useRef)(!1),function(){var e=Object(_.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.files),n=t.target.files[0],e.next=4,Ye(n);case 4:a=e.sent,console.log(a),Be(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Me=function(){var e=Object(_.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.files),n=t.target.files[0],e.next=4,Ye(n);case 4:a=e.sent,console.log(a),ye(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){t(a.result)},a.onerror=function(e){n(e)}}))};Object(a.useEffect)((function(){!function(){var e=[];H([]),m.a.get("http://52.14.149.174/api/getCountries").then((function(t){t.data.forEach((function(t){e.push({countryname:t.country})})),H(e)}))}()}),[]);return function(e,t){var n=Object(a.useRef)(!1);Object(a.useEffect)((function(){n.current?e():n.current=!0}),t)}((function(){!function(){console.log("this is the country"+$);var e=[];X([]),m.a.get("http://52.14.149.174/api/getCities/"+$).then((function(t){t.data.forEach((function(t){e.push({cityname:t.dest,cityid:t.dest_id,long:t.lng,lat:t.lat})})),console.log("this the array"),console.log(e),X(e)}))}()}),[$]),Object(a.useEffect)((function(){console.log("longitude: "+ie+" latitude: "+re)}),[ie,re]),Object(L.jsxs)("div",{styling:{backgroundColor:"#f5f5f5",width:"100%",height:"100%"},children:[Object(L.jsx)(At,{title:"Registration",subTitle:"Be part of our family",icon:Object(L.jsx)(Pt.a,{})}),Object(L.jsx)(Dt.a,{className:Te.pageContent,children:Object(L.jsx)("form",{className:Te.root,Validate:!0,onSubmit:function(t){t.preventDefault(),"2"===I?m.a.post("http://52.14.149.174/api/register/parent",{user_type:I,first_name:i,last_name:u,email:g,password:v,city:M,country:$,gender:B,phone_number:F,picture:Ne,DoB:be,latitude:re,longitude:ie}).then((function(t){console.log(t.data),e.push("/")})).catch((function(e){console.log(e),alert("Please Try again later")})):m.a.post("http://52.14.149.174/api/babysitter/register",{user_type:I,first_name:i,last_name:u,email:g,password:v,city:M,country:$,gender:B,phone_number:F,picture:Ne,DoB:be,latitude:re,longitude:ie,cv:xe,rate:ge,aboutme:Ae}).then((function(t){console.log(t.data),e.push("/")})).catch((function(e){console.log(e),alert("Please Try again later")}))},children:Object(L.jsxs)(j.a,{container:!0,children:[Object(L.jsxs)(j.a,{item:!0,md:6,xs:12,children:[Object(L.jsx)(d.a,{variant:"outlined",label:"First Name",required:!0,name:"firstName",value:i,autoFocus:!0,autoComplete:"off",onChange:function(e){o(e.target.value)}}),Object(L.jsx)(d.a,{variant:"outlined",label:"Last Name",required:!0,value:u,autoComplete:"off",onChange:function(e){b(e.target.value)}}),Object(L.jsx)(d.a,{variant:"outlined",label:"Email",type:"email",required:!0,value:g,autoComplete:"off",onChange:function(e){f(e.target.value)}}),Object(L.jsx)(d.a,{variant:"outlined",label:"Password",type:"password",required:!0,value:v,autoComplete:"off",onChange:function(e){S(e.target.value)}}),Object(L.jsx)(d.a,{variant:"outlined",label:"Phone Number",type:"tel",required:!0,value:F,autoComplete:"off",onChange:function(e){P(e.target.value)}}),Object(L.jsxs)(ot.a,{children:[Object(L.jsx)(Bt.a,{component:"legend",children:"Gender"}),Object(L.jsxs)(Wt.a,{row:!0,"aria-label":"Gender",name:"row-radio-buttons-group",value:B,onChange:function(e){T(e.target.value)},children:[Object(L.jsx)(Tt.a,{value:"0",control:Object(L.jsx)(Nt.a,{}),label:"Female"}),Object(L.jsx)(Tt.a,{value:"1",control:Object(L.jsx)(Nt.a,{}),label:"Male"})]})]})]}),Object(L.jsxs)(j.a,{item:!0,md:6,xs:12,children:[Object(L.jsx)(d.a,{id:"date",required:!0,fullWidth:!0,label:"Date of Birth",type:"date",Value:be,onChange:function(e){je(e.target.value)},InputLabelProps:{shrink:!0}}),Object(L.jsxs)(ot.a,{children:[Object(L.jsx)(Bt.a,{component:"legend",children:"User Type"}),Object(L.jsxs)(Wt.a,{row:!0,"aria-label":"usertype",name:"row-radio-buttons-group",value:I,onChange:function(e){D(e.target.value)},children:[Object(L.jsx)(Tt.a,{value:"2",control:Object(L.jsx)(Nt.a,{}),label:"Parent"}),Object(L.jsx)(Tt.a,{value:"3",control:Object(L.jsx)(Nt.a,{}),label:"Babsitter"})]})]}),"3"===I?Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(d.a,{variant:"outlined",label:"Rate per hour $",type:"number",value:ge,autoComplete:"off",onChange:function(e){fe(e.target.value),console.log(e.target.value)}})}):null,"3"===I?Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(d.a,{variant:"outlined",label:"About me",inputProps:{maxLength:250},multiline:!0,rows:2,value:Ae,autoComplete:"off",onChange:function(e){Fe(e.target.value)}})}):null,"3"===I?Object(L.jsx)(L.Fragment,{}):null,"3"===I?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("input",{accept:".pdf",style:{display:"none"},id:"CV",type:"file",onChange:function(e){Me(e)}}),Object(L.jsx)("label",{htmlFor:"CV",children:Object(L.jsx)(r.a,{variant:"outlined",component:"span",style:{width:"80%",color:"#2E3B55",marginBottom:"15px"},children:"CV"})})," "]}):null,Object(L.jsx)("input",{accept:"image/*",style:{display:"none"},id:"profilePicture",type:"file",onChange:function(e){Re(e)}}),Object(L.jsx)("label",{htmlFor:"profilePicture",children:Object(L.jsx)(r.a,{variant:"outlined",component:"span",style:{width:"80%",color:"#2E3B55",marginBottom:"15px"},children:"Choose a profile picture"})})]}),Object(L.jsxs)(j.a,{item:!0,xs:12,children:[Object(L.jsxs)(ot.a,{fullWidth:!0,children:[Object(L.jsx)(Et.a,{id:"country-label",children:"Country"}),Object(L.jsx)(st.a,{required:!0,labelID:"country-label",id:"country-select",value:$,label:"Country",onChange:function(e){console.log(e.target.value),ee(e.target.value)},children:U.map((function(e){return Object(L.jsx)(ae.a,{value:e.countryname,children:e.countryname},e.countryname)}))})]}),Object(L.jsxs)(ot.a,{fullWidth:!0,children:[Object(L.jsx)(Et.a,{id:"city-label",children:"City"}),Object(L.jsx)(st.a,{required:!0,labelID:"city-label",id:"city-select",value:M,label:"Country",onChange:function(e){console.log(e.target.value),Y(e.target.value),we(e.target.long),De(e.target.lat),console.log(Ce),console.log(Ie)},children:K.map((function(e){return Object(L.jsx)(ae.a,{value:e.cityid,long:e.long,lat:e.lat,children:e.cityname},e.cityid)}))})]}),Object(L.jsx)(Ee,{setLng:oe,setLat:le,countrylat:Ie,countrylong:Ce}),Object(L.jsx)(r.a,{type:"submit",fullWidth:!0,style:{backgroundColor:"#2E3B55",color:"#FFFFFF"},variant:"contained",sx:{mt:3,mb:2},children:"Register"})]})]})})})]})}var Yt=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)({title:"",body:""}),c=Object(s.a)(o,2),r=c[0],l=c[1],d=Object(a.useState)(null),u=Object(s.a)(d,2),b=u[0],j=u[1],h=Object(a.useState)(!1),p=Object(s.a)(h,2),g=p[0],O=p[1];return console.log(n,r),Object(a.useEffect)((function(){console.log("this is from App"+b)}),[b]),Object(a.useEffect)((function(){console.log("Notification received"+g)}),[g]),new Promise((function(e){I.onMessage((function(t){e(t)}))})).then((function(e){O(!0),i(!0),l({title:e.data.title,body:e.data.body}),console.log(e)})).catch((function(e){return console.log("failed: ",e)})),Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(f.a,{children:Object(L.jsxs)(x.c,{children:[Object(L.jsx)(x.a,{exact:!0,path:"/",children:Object(L.jsx)(T,{token:b})}),Object(L.jsx)(x.a,{exact:!0,path:"/register",children:Object(L.jsx)(Mt,{})}),Object(L.jsx)(x.a,{exact:!0,path:"/main/parent",children:Object(L.jsx)(bt,{token:b,loadNotifications:g,setLoadNotification:O})}),Object(L.jsx)(x.a,{exact:!0,path:"/main/babysitter",children:Object(L.jsx)(It,{token:b,loadNotifications:g,setLoadNotification:O})}),Object(L.jsx)(x.a,{exact:!0,path:"/babysitter/profile",children:Object(L.jsx)(et,{})})]})}),n?Object(L.jsx)(N,{title:r.title,body:r.body}):Object(L.jsx)(L.Fragment,{}),Object(L.jsx)(F,{setToken:j})]})};c.a.render(Object(L.jsx)(f.a,{children:Object(L.jsx)(Yt,{})}),document.getElementById("root"))}},[[320,1,2]]]);
//# sourceMappingURL=main.d1d4b133.chunk.js.map